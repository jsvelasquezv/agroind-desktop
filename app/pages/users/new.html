<div class="row" ng-init="indexProfile()">
  <div class="col s12 m12">
    <div class="card-panel">
      <form novalidate ng-submit="submitRegistration(registrationForm)" role="form" ng-init="registrationForm = {}" name="form">

        <div class="row">
          <div class="input-field col s6">
            <label>Documento</label>
            <input type="number" name="document" ng-model="registrationForm.document" ng-min="8" ng-max="15" required/>
          </div>
          <div class="input-field col s6">
            <label>Nombre</label>
            <input type="text" name="name" ng-model="registrationForm.name" ng-min="3" ng-max="30" required/>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s6">
            <label>Apellido</label>
            <input type="text" name="last_name" ng-model="registrationForm.last_name" ng-min="2" ng-max="30" required/>
          </div>
          <div class="input-field col s6">
            <label>Direccion</label>
            <input type="text" name="address" ng-model="registrationForm.address" ng-min="8" ng-max="50" required/>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s6">
            <label>Email</label>
            <input type="email" name="email" ng-model="registrationForm.email" class="form-control" ng-min="3" ng-max="256" required/>
          </div>
          <div class="input-field col s6">
            <select class="browser-default" name="profile_id" id="profile_id" ng-model=registrationForm.profile_id required>
              <option value="">Selecciona un perfil</option>
              <option ng-repeat="profile in allProfiles" value="{{profile.id}}">{{profile.name}}</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="input-field col s6">
            <label>Password</label>
            <input type="password" name="password" ng-model="registrationForm.password" class="form-control" ng-min="8" ng-max="50" required/>
          </div>
          <div class="input-field col s6">
            <label>Password confirmation</label>
            <input type="password" name="password_confirmation" ng-model="registrationForm.password_confirmation" class="form-control" ng-min="8" ng-max="50" required />
          </div>
        </div>

        <div ng-messages="form.document.$error" ng-if="form.document.$touched">
          <p ng-message="minlength">El documento es demasiado corto.</p>
          <p ng-message="maxlength">El documento es demasiado largo.</p>
          <p ng-message="required">El documento es requerido.</p>
        </div>

        <div ng-messages="form.name.$error" ng-if="form.name.$touched">
          <p ng-message="minlength">El nombre es demasiado corto.</p>
          <p ng-message="maxlength">El nombre es demasiado largo.</p>
          <p ng-message="required">El nombre es requerido.</p>
        </div>

        <div ng-messages="form.last_name.$error" ng-if="form.last_name.$touched">
          <p ng-message="minlength">El apellido es demasiado corto.</p>
          <p ng-message="maxlength">El apellido es demasiado largo.</p>
          <p ng-message="required">El apellido es requerido.</p>
        </div>

        <div ng-messages="form.address.$error" ng-if="form.address.$touched">
          <p ng-message="minlength">La direccion es demasiado corta.</p>
          <p ng-message="maxlength">La direccion es demasiado larga.</p>
          <p ng-message="required">La direccion es requerida.</p>
        </div>

        <div ng-messages="form.email.$error" ng-if="form.email.$touched">
          <p ng-message="minlength">El email es demasiado corto.</p>
          <p ng-message="maxlength">El email es demasiado largo.</p>
          <p ng-message="required">El email es requerido.</p>
          <p ng-message="email">Ingresa una direccion de email valida.</p>
        </div>

        <div ng-messages="form.profile_id.$error" ng-if="form.profile_id.$touched">
          <p ng-message="required">Selecciona un perfil.</p>
        </div>

        <div ng-messages="form.password.$error" ng-if="form.password.$touched">
          <p ng-message="minlength">La contraseña es demasiado corta.</p>
          <p ng-message="maxlength">La contraseña es demasiado larga.</p>
          <p ng-message="required">La contraseña es requerida.</p>
        </div>

        <div ng-messages="form.password.$error" ng-if="form.password.$touched">
          <p ng-message="minlength">La contraseña es demasiado corta.</p>
          <p ng-message="maxlength">La contraseña es demasiado larga.</p>
          <p ng-message="required">La contraseña es requerida.</p>
        </div>


        <button type="submit" class="btn" >Registrarse</button>
      </form>
    </div>
  </div>
</div>